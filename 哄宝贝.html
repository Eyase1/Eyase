<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>给我最爱的你</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        love: {
                            pink: '#FF6B8B',
                            light: '#FFE6EA',
                            dark: '#D6336C',
                            gold: '#FFD700',
                            soft: '#FFCAD4'
                        }
                    },
                    fontFamily: {
                        warm: ['"Segoe UI"', '"Microsoft YaHei"', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            }
            .heart-beat {
                animation: heartbeat 1.5s ease-in-out infinite;
            }
            .float {
                animation: float 3s ease-in-out infinite;
            }
            .pulse-slow {
                animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
            }
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            14% { transform: scale(1.1); }
            28% { transform: scale(1); }
            42% { transform: scale(1.1); }
            70% { transform: scale(1); }
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-love-light to-love-soft min-h-screen font-warm text-gray-800 overflow-x-hidden">
    <!-- 顶部装饰 -->
    <div class="absolute top-0 left-0 right-0 h-16 overflow-hidden pointer-events-none">
        <div class="absolute -top-2 left-10 text-love-pink text-2xl heart-beat">
            <i class="fa fa-heart"></i>
        </div>
        <div class="absolute top-2 left-1/4 text-love-dark text-xl heart-beat" style="animation-delay: 0.3s">
            <i class="fa fa-heart"></i>
        </div>
        <div class="absolute -top-1 right-1/4 text-love-pink text-lg heart-beat" style="animation-delay: 0.6s">
            <i class="fa fa-heart"></i>
        </div>
        <div class="absolute top-3 right-10 text-love-dark text-xl heart-beat" style="animation-delay: 0.9s">
            <i class="fa fa-heart"></i>
        </div>
    </div>

    <div class="container mx-auto px-4 pt-24 pb-20 relative z-10">
        <!-- 标题部分 -->
        <div class="text-center mb-10">
            <h1 class="text-[clamp(1.8rem,5vw,2.5rem)] font-bold text-love-dark mb-3 text-shadow float">
                对不起，我的宝贝
            </h1>
            <p class="text-[clamp(1rem,3vw,1.2rem)] text-gray-700 max-w-md mx-auto">
                我知道我做得不够好，让你受委屈了
            </p>
        </div>

        <!-- 主要道歉内容 -->
        <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-6 md:p-8 shadow-lg max-w-md mx-auto mb-10 transform transition-all duration-500 hover:shadow-xl">
            <p class="text-[clamp(1.1rem,3vw,1.3rem)] leading-relaxed mb-4">
                亲爱的，对不起。在你身体不舒服、最需要关心的时候，我没有做好，早上还一直自顾自的说话。
            </p>
            <p class="text-[clamp(1.1rem,3vw,1.3rem)] leading-relaxed mb-4">
                我知道宝贝生理期受了很多苦，肚子超级超级痛、情绪很容易波动、浑身都会无力，我也很自责我没有办法陪在你身边
            </p>
            <p class="text-[clamp(1.1rem,3vw,1.3rem)] leading-relaxed">
                我保证以后会更加主动去找你关心你宝贝，不会再犹犹豫豫那么久宝贝
            </p>
        </div>

        <!-- 互动按钮 -->
        <div class="max-w-md mx-auto mb-12">
            <div class="flex flex-col space-y-4">
                <button id="promiseBtn" class="bg-love-pink hover:bg-love-dark text-white py-4 px-6 rounded-full text-lg font-bold shadow-lg transform transition-all duration-300 hover:scale-105 active:scale-95 flex items-center justify-center">
                    <i class="fa fa-hand-paper-o mr-2"></i>
                    查看我的保证
                </button>
                
                <button id="forgiveBtn" class="bg-white hover:bg-gray-50 text-love-dark py-4 px-6 rounded-full text-lg font-bold shadow-lg transform transition-all duration-300 hover:scale-105 active:scale-95 flex items-center justify-center pulse-slow">
                    <i class="fa fa-heart mr-2"></i>
                    原谅你啦
                </button>
            </div>
        </div>

        <!-- 小礼物区域 -->
        <div class="text-center max-w-md mx-auto">
            <p class="text-gray-700 mb-4">给你准备了小补偿 ❤️</p>
            <div class="grid grid-cols-3 gap-3">
                <div class="bg-white rounded-xl p-3 shadow-md hover:shadow-lg transition-shadow">
                    <p class="text-sm">太监被嘎掉的蛋蛋</p>
                </div>
                <div class="bg-white rounded-xl p-3 shadow-md hover:shadow-lg transition-shadow">
                    <p class="text-sm">太监精心养护的兔子尾巴</p>
                </div>
                <div class="bg-white rounded-xl p-3 shadow-md hover:shadow-lg transition-shadow">
                    <p class="text-sm">放一只小熊在这里，可以随便欺负哦🐻</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 底部装饰 -->
    <div class="absolute bottom-0 left-0 right-0 h-16 overflow-hidden pointer-events-none">
        <div class="absolute bottom-3 left-1/3 text-love-pink text-lg heart-beat" style="animation-delay: 0.2s">
            <i class="fa fa-heart"></i>
        </div>
        <div class="absolute -bottom-1 right-1/3 text-love-dark text-xl heart-beat" style="animation-delay: 0.7s">
            <i class="fa fa-heart"></i>
        </div>
    </div>

    <!-- 爱心飘落效果容器 -->
    <div id="heartsContainer" class="fixed inset-0 pointer-events-none z-0"></div>

    <script>
        // 保证内容数组
        const promises = [
            "记住你的生理期时间，提前做好准备",
            "不舒服的时候主动分担所有家务",
            "准备好所有所有的必需品",
            "不惹你生气，多包容你的小情绪",
            "随时待命，需要时立刻出现在你身边",
            "耐心听你倾诉，做你的情绪垃圾桶",
            "给你按摩，帮你缓解疼痛",
            "陪你看剧、聊天，分散注意力"
        ];

        // 存储弹窗元素，用于手动关闭
        let currentPopup = null;
        // 存储自动关闭计时器，用于手动关闭时清除
        let autoCloseTimer = null;

        // 按钮点击事件
        document.getElementById('promiseBtn').addEventListener('click', function() {
            showPromiseList();
            createHearts(3);
        });

        document.getElementById('forgiveBtn').addEventListener('click', function() {
            showMessage("谢皇上恩赐，小的定当尽心尽力！！！", "🥰");
            createHearts(20);
        });

        // 关闭弹窗函数（通用）
        function closePopup() {
            if (currentPopup) {
                // 清除自动关闭计时器
                if (autoCloseTimer) {
                    clearTimeout(autoCloseTimer);
                    autoCloseTimer = null;
                }
                // 添加关闭动画
                currentPopup.classList.replace('scale-100', 'scale-0');
                // 动画结束后移除元素
                setTimeout(() => {
                    if (currentPopup.parentNode) {
                        currentPopup.parentNode.removeChild(currentPopup);
                    }
                    currentPopup = null;
                }, 300);
            }
        }

        // 显示保证列表（添加返回按钮）
        function showPromiseList() {
            // 先关闭已存在的弹窗
            if (currentPopup) closePopup();

            const messageDiv = document.createElement('div');
            messageDiv.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-2xl p-6 shadow-2xl z-50 max-w-xs w-4/5 transition-all duration-300 scale-0';
            
            let promisesHTML = `
                <div class="flex justify-between items-center mb-3">
                    <h3 class="text-lg font-bold text-love-dark">我的保证</h3>
                    <button class="close-btn text-gray-500 hover:text-love-dark transition-colors">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
                <ul class="space-y-2 mb-4">
            `;
            promises.forEach(promise => {
                promisesHTML += `<li class="flex items-start">
                    <i class="fa fa-check-circle text-love-pink mt-1 mr-2"></i>
                    <span>${promise}</span>
                </li>`;
            });
            promisesHTML += `</ul>`;
            
            messageDiv.innerHTML = promisesHTML;
            document.body.appendChild(messageDiv);
            currentPopup = messageDiv;

            // 绑定返回按钮事件
            messageDiv.querySelector('.close-btn').addEventListener('click', closePopup);

            // 显示动画
            setTimeout(() => {
                messageDiv.classList.replace('scale-0', 'scale-100');
            }, 10);
            
            // 自动关闭计时器（保留原功能，可手动关闭）
            autoCloseTimer = setTimeout(() => {
                closePopup();
            }, 8000); // 延长自动关闭时间，给足阅读时间
        }

        // 显示消息的函数（添加返回按钮）
        function showMessage(text, emoji = "❤️") {
            // 先关闭已存在的弹窗
            if (currentPopup) closePopup();

            const messageDiv = document.createElement('div');
            messageDiv.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-2xl p-8 shadow-2xl z-50 max-w-xs w-4/5 text-center transition-all duration-300 scale-0';
            messageDiv.innerHTML = `
                <div class="flex justify-end mb-4">
                    <button class="close-btn text-gray-500 hover:text-love-dark transition-colors">
                        <i class="fa fa-times"></i>
                    </button>
                </div>
                <p class="text-xl mb-4">${text}</p>
                <p class="text-3xl">${emoji}</p>
            `;
            
            document.body.appendChild(messageDiv);
            currentPopup = messageDiv;

            // 绑定返回按钮事件
            messageDiv.querySelector('.close-btn').addEventListener('click', closePopup);

            // 显示动画
            setTimeout(() => {
                messageDiv.classList.replace('scale-0', 'scale-100');
            }, 10);
            
            // 自动关闭计时器（保留原功能，可手动关闭）
            autoCloseTimer = setTimeout(() => {
                closePopup();
            }, 5000);
        }

        // 创建爱心飘落效果（保留原功能）
        function createHearts(count) {
            const container = document.getElementById('heartsContainer');
            
            for (let i = 0; i < count; i++) {
                const heart = document.createElement('div');
                const size = Math.random() * 15 + 10;
                const left = Math.random() * 100;
                const duration = Math.random() * 5 + 3;
                const delay = Math.random() * 3;
                const opacity = Math.random() * 0.7 + 0.3;
                
                heart.innerHTML = '<i class="fa fa-heart"></i>';
                heart.className = 'absolute text-love-pink';
                heart.style.fontSize = `${size}px`;
                heart.style.left = `${left}%`;
                heart.style.top = '-20px';
                heart.style.opacity = opacity;
                heart.style.animation = `fall ${duration}s linear forwards`;
                heart.style.animationDelay = `${delay}s`;
                
                container.appendChild(heart);
                
                // 动画结束后移除元素
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.parentNode.removeChild(heart);
                    }
                }, (duration + delay) * 1000);
            }
        }

        // 添加飘落动画（保留原功能）
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fall {
                0% {
                    transform: translateY(0) rotate(0deg);
                    opacity: 1;
                }
                100% {
                    transform: translateY(100vh) rotate(720deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>